<html lang="en"><head> <meta charset="utf-8"> <title>Introduction to margin collapse | Annotated CSS Spec </title> <meta name="description" content="Broaden your CSS knowledge by reading a specification enriched with explanations and examples."> <meta name="viewport" content="width=device-width,initial-scale=1"> <meta property="og:title" content="Annotated CSS Spec"> <meta property="og:url" content="https://annotatedcss.com"> <meta property="og:description" content="Broaden your CSS knowledge by reading an annotated specification!"> <meta property="og:image" content="/images/logo.png"> <meta property="og:type" content="website"> <meta property="og:image:width" content="300"> <meta property="og:image:height" content="300"> <link href="https://fonts.googleapis.com/css2?family=Inconsolata&amp;family=Open+Sans:ital,wght@0,400;0,600;1,300;1,400&amp;display=swap" rel="stylesheet"> <link rel="canonical" href="https://annotatedcss.com/box-model/comments/8.3.1.1"> <link rel="stylesheet" href="/styles/main.css"> <link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16"> <link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="/images/favicon-96x96.png" sizes="96x96"> </head> <body> <header> <svg class="logo" xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 41.01 41.01"><g class="marginBox" fill="none" stroke="#ececfb" stroke-width="2.646"><path d="M1.323 7.938V1.323h6.615M1.323 11.898v6.614M1.323 22.488v6.614M7.937 39.688H1.323v-6.615M39.688 7.938V1.323h-6.615M39.688 11.898v6.614M39.688 22.488v6.614M33.073 39.688h6.614v-6.615M11.906 1.318h6.615M22.49 1.318h6.614M11.906 39.688h6.615M22.49 39.688h6.614"></path></g><rect class="borderBox" ry="0" height="25.261" width="25.261" y="7.87" x="7.875" opacity=".99" fill="none" stroke="#ececfb" stroke-width="2.52" stroke-linecap="round"></rect><rect class="contentBox" ry="0" height="14.552" width="14.552" y="13.23" x="13.229" opacity=".99" fill="#c7a6e7ff"></rect></svg> <a class="title" href="/">Annotated CSS&nbsp;Spec </a><a class="help-link" href="/about">?</a> </header> <main> <article class="spec-comment open" data-comment-on="/box-model.html"> <div class="content"> <div class="comment-identifier"> This comment relates to the following words from Section&nbsp;8.3.1 of CSS&nbsp;2.2: <blockquote> In CSS, the adjoining margins of two or more boxes (which might or might not be siblings) can combine to form a single margin. </blockquote> </div> <p>Here is an example of two margins collapsing into a single margin:</p> <img src="/images/8.3.1.1-simple-example-of-margin-collapse.svg" alt="A diagram showing how margin collapse applies to two sibling boxes.
      The diagram shows two scenarios. The first presents how the two siblings
      boxes would be arranged if margin collapse did not exist in CSS. The
      second scenario presents the arrangement of the sibling boxes with margin
      collapse applied."> <p> As we can see, the bottom margin of Box&nbsp;1 is combined with the top margin of Box&nbsp;2. </p> <p> It is important to build the proper mental model of collapse. When two margins collapse, it is not that they overlap. Instead, they merge into a <em>single</em> margin. Let me show you how these two mental models (“overlap” versus “single margin”) differ in practice. </p> <p>Let’s take a parent and a child box.</p> <img src="/images/8.3.1.1-parent-and-child-box.svg" alt="A parent and a child box. Both boxes have a top margin."> <p> The parent has a non‑zero top border, which prevents the two margins from collapsing. Let’s assume that there are no other barriers to collapse. That is, if we remove the border, the parent’s and the child’s top margins will become adjoining, and so collapse. </p> <p> In the incorrect “overlap” interpretation, we would expect a result like this: </p> <img src="/images/8.3.1.1-margin-collapse-as-overlap-incorrect-interpretation.svg" alt="A parent and a child box whose top margins overlap. The top margin of the
    parent is bigger."> <p> However, as mentioned, collapse is in fact about the margins merging into one. In our example, the parent’s top margin will be the child’s top margin. So, the two boxes will be aligned at the top: </p> <img src="/images/8.3.1.1-parent-and-child-top-margin-collapse.svg" alt="A parent and a child box whose top margins collapse into a single margin.
    A result of this collapse is that the parent’s top content edge has the same
    position as the child’s top content edge."> <p> The fragment of the spec we’re discussing here suggests that for margin collapse to take place, we need at least two boxes. After all, the fragment says (emphasis mine): <q>the adjoining margins of <em>two or more</em> boxes (…) can combine to form a single margin</q>. In reality, though, margin collapse can also happen between the top and the bottom margin of a <em>single</em> box. The spec makes this possibility clear later in Section&nbsp;8.3.1. </p> <h3>Why do margins collapse?</h3> <p> The CSS&nbsp;2 spec does not answer this question. However, CSS&nbsp;1 was a little more forthcoming! </p> <p> <a href="https://www.w3.org/TR/2008/REC-CSS1-20080411/#vertical-formatting">Section&nbsp;4.1.1</a> of CSS&nbsp;1 said: <q cite="https://www.w3.org/TR/2008/REC-CSS1-20080411/#vertical-formatting">In most cases, after collapsing the vertical margins the result is visually more pleasing and closer to what the designer expects</q>. </p> <p> CSS&nbsp;1 was published in late 1996. Back then, most web sites were text‑centred. They were often paragraphs interspersed with headings, graphics, tables, and other elements. </p> <p> Indeed, in this world of text‑centred web pages, margin collapse is usually an ally. </p> <p> Suppose we have an article with these elements and settings: </p> <ul> <li> headings, with <code class="language-css">margin: 10px</code> </li> <li> paragraphs, with <code class="language-css">margin: 5px</code> </li> <li> figures, with <code class="language-css">margin: 10px</code> </li> </ul> <p> If margin collapse didn’t exist, our document would be more prone to inconsistent spacing. For example, if a heading happened to be placed right after a paragraph, there would be 15&nbsp;pixels between them: 5&nbsp;from the heading and 10&nbsp;from the paragraph. If another heading ended up right after a figure, there would be 20 pixels in‑between: 10 from the figure and 10 from the heading. </p> <p> Margin collapse ensures that in our example, the distance between headings and other elements of the document would have the same value of 10&nbsp;pixels. </p> <p>Thus, margin collapse helps increase consistency in spacing.</p> </div> <div class="copyright-notice"> <p> <img alt="Creative Commons License" src="/images/CC_BY-SA_small.svg"> This work by <span xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">Mateusz Sarnecki</span> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>. </p> </div> </article> </main> <script src="/scripts/main.js"></script> <!-- GoatCounter, privacy-sensitive web analytics --> <script data-goatcounter="https://msar.goatcounter.com/count" async="" src="//gc.zgo.at/count.js"></script> </body></html>