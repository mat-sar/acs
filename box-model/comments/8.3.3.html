<html lang="en"><head> <meta charset="utf-8"> <title>Vertical margins in non-replaced elements | Annotated CSS Spec </title> <meta name="description" content="Broaden your CSS knowledge by reading a specification enriched with explanations and examples."> <meta name="viewport" content="width=device-width,initial-scale=1"> <meta property="og:title" content="Annotated CSS Spec"> <meta property="og:url" content="https://annotatedcss.com"> <meta property="og:description" content="Broaden your CSS knowledge by reading an annotated specification!"> <meta property="og:image" content="/images/logo.png"> <meta property="og:type" content="website"> <meta property="og:image:width" content="300"> <meta property="og:image:height" content="300"> <link href="https://fonts.googleapis.com/css2?family=Inconsolata&amp;family=Open+Sans:ital,wght@0,400;0,600;1,300;1,400&amp;display=swap" rel="stylesheet"> <link rel="canonical" href="https://annotatedcss.com/box-model/comments/8.3.3"> <link rel="stylesheet" href="/styles/main.css"> <link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16"> <link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="/images/favicon-96x96.png" sizes="96x96"> </head> <body> <header> <svg class="logo" xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 41.01 41.01"><g class="marginBox" fill="none" stroke="#ececfb" stroke-width="2.646"><path d="M1.323 7.938V1.323h6.615M1.323 11.898v6.614M1.323 22.488v6.614M7.937 39.688H1.323v-6.615M39.688 7.938V1.323h-6.615M39.688 11.898v6.614M39.688 22.488v6.614M33.073 39.688h6.614v-6.615M11.906 1.318h6.615M22.49 1.318h6.614M11.906 39.688h6.615M22.49 39.688h6.614"></path></g><rect class="borderBox" ry="0" height="25.261" width="25.261" y="7.87" x="7.875" opacity=".99" fill="none" stroke="#ececfb" stroke-width="2.52" stroke-linecap="round"></rect><rect class="contentBox" ry="0" height="14.552" width="14.552" y="13.23" x="13.229" opacity=".99" fill="#c7a6e7ff"></rect></svg> <a class="title" href="/">Annotated CSS&nbsp;Spec </a><a class="help-link" href="/about">?</a> </header> <main> <article class="spec-comment open" data-comment-on="/box-model.html"> <div class="content"> <div class="comment-identifier"> This comment relates to the following words from Section&nbsp;8.3 of CSS&nbsp;2.2: <blockquote> These properties apply to all elements, but vertical margins will not have any effect on non-replaced inline elements. </blockquote> </div> <p>There are two concepts that this fragment requires you to know.</p> <p> One is that of replaced and non-replaced elements. Replaced elements, as <a href="https://www.w3.org/TR/CSS22/conform.html#replaced-element">defined in Section&nbsp;3.1</a>, are those <q>whose content is outside the scope of the CSS formatting model, such as an image, embedded document, or applet</q>. </p> <p> The above means that CSS is not responsible for formatting the content of replaced elements. For example, if we use <code class="language-html">&lt;img&gt;</code> to show a picture, CSS does not control what goes inside the content edge of the <code class="language-html">&lt;img&gt;</code> box. It will be the browser’s job to read the value of the <code class="language-html">src</code> or <code class="language-html">srcset</code> attributes, retrieve the image, and display it. </p> <p> In contrast, <em>non-replaced</em> elements are those whose content can be controlled by CSS. An example is <code class="language-html">&lt;span&gt;Hi!&lt;/span&gt;</code>. We are free to change the font of the text, among other properties. </p> <p> The other essential concept is that of inline elements. Inline elements are those with <code class="language-css">display: inline</code>. Such elements generate boxes that are laid out horizontally, one to the side of the other, like the words in this sentence. (This is an extremely cursory treatment of inline boxes, more on them in <a href="https://www.w3.org/TR/CSS22/visuren.html#inline-boxes">Section&nbsp;9.2.2</a>.) </p> <p> The fragment of the spec states that in non-replaced inline elements, the top and bottom margins play no role. Let’s consider this HTML: </p> <pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
  This example paragraph<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
  contains <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>a non-replaced box<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>, which<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
  has non-zero vertical margins.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre> <p>And this styling:</p> <pre><code class="language-css"><span class="token selector">span</span> <span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #686892<span class="token punctuation">;</span>  <span class="token comment">/* Visualize the box. */</span>
  <span class="token property">display</span><span class="token punctuation">:</span> inline<span class="token punctuation">;</span>  <span class="token comment">/* This is the default for spans.  */</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> <p> In this set-up, the <code class="language-html">&lt;span&gt;</code> element is an inline non-replaced element. This is the effect: </p> <div id="ex-8.3.3.i" class="example-visualization"> <style> #ex-8\.3\.3\.i p {
          border: 1px solid #686892;
          white-space: nowrap;
        }

        #ex-8\.3\.3\.i span {
          border: 1px solid #686892;
          /* Just to make sure it's not overridden. */
          display: inline;
          margin: 10px;
        } </style> <div class="example-frame"> <p> This example paragraph<br> contains <span>a non-replaced box</span>, which<br> has non-zero vertical margins. </p> </div> </div> <p> As we can see, the left and right margins are respected, but the top and bottom margins are ignored. They are still there, though. After all, the spec says that the margin properties <q>apply to all elements</q>. You can check the presence of the vertical margins yourself, using your browser’s developer tools and inspecting the <code>&lt;span&gt;</code> element from the example. The browser should report the vertical margins. </p> <p> If we changed the styling for the <code class="language-html">&lt;span&gt;</code> element by replacing <code class="language-css">display: inline</code> with <code class="language-css">display: inline-block</code>, the element’s vertical margins will now have an effect: </p> <div id="ex-8.3.3.ii" class="example-visualization"> <style> #ex-8\.3\.3\.ii p {
          border: 1px solid #686892;
          white-space: nowrap;
        }

        #ex-8\.3\.3\.ii span {
          border: 1px solid #686892;
          display: inline-block;
          margin: 10px;
        } </style> <div class="example-frame"> <p> This example paragraph<br> contains <span>a non-replaced box</span>, which<br> contains non-zero vertical margins. </p> </div> </div> <p> The vertical margins are now respected because the <code class="language-html">&lt;span&gt;</code> element no longer generates an inline box. (It generates an inline-level box. <a href="https://www.w3.org/TR/CSS22/visuren.html#inline-boxes">Section&nbsp;9.2</a> explains the relationship between inline boxes and inline-level boxes.) </p> <p> Similarly, if we replace the <code class="language-html">&lt;span&gt;</code> element with an <code class="language-html">&lt;img&gt;</code> element, the margins will be respected, too. This is because we will have a replaced box: </p> <div id="ex-8.3.3.iii" class="example-visualization"> <style> #ex-8\.3\.3\.iii p {
          border: 1px solid #686892;
          white-space: nowrap;
        }

        #ex-8\.3\.3\.iii img {
          display: inline;
          margin: 10px;
          height: 1em;
          vertical-align: middle;
        } </style> <div class="example-frame"> <p> This example paragraph<br> contains an image (<img src="/images/comment.svg" alt="Speech bubble">), which<br> has non-zero vertical margins. </p> </div> </div> </div> <div class="copyright-notice"> <p> <img alt="Creative Commons License" src="/images/CC_BY-SA_small.svg"> This work by <span xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">Mateusz Sarnecki</span> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>. </p> </div> </article> </main> <script src="/scripts/main.js"></script> <!-- GoatCounter, privacy-sensitive web analytics --> <script data-goatcounter="https://msar.goatcounter.com/count" async="" src="//gc.zgo.at/count.js"></script> </body></html>